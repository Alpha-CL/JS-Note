<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>node</title>


    <style>

        ul {

            list-style: none;
            margin: 0;
            padding: 0;
        }

        #wrap {
            width: 100%;
            height: 860px;
            background-image: url("https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569561570013&di=12aadd67647c0a92544346d571c49648&imgtype=0&src=http%3A%2F%2Fi-2.yxdown.com%2F2014%2F7%2F4%2F06125f68-f7c1-4171-943d-a02c81ce9347.jpg");
            background-repeat: no-repeat;
        }

        #dv3 {
            padding: 40px;
            height: 200px;
            background-color: rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        #dv3 img {
            width: 192px;
            height: 108px;
            cursor: pointer;
        }


        table {
            border: 1px solid black;
        }


        .wrap {
            width: 300px;
            margin: 100px auto 0;
        }

        table {
            border-collapse: collapse;
            border-spacing: 0;
            border: 1px solid #c0c0c0;
            width: 300px;
        }

        th,
        td {
            border: 0px solid #d0d0d0;
            color: #404059;
            padding: 9px;
        }

        th {
            background-color: #09c;
            font: bold 16px "微软雅黑";
            color: #fff;
        }

        td {
            font: 14px "微软雅黑";
        }

        tbody tr {
            background-color: #f0f0f0;
        }

        tbody tr:hover {
            cursor: pointer;
            background-color: #fafafa;
        }

    </style>


</head>
<body id="bd">


<!--------------------------------------------------------------------------------------------------------------------->


<!--获取 div 中所有的标签，设置每个标签的 背景颜色-->

<!--页面中所有的内容(标签、属性、文本{文字、换行、空格、回车}）都称为 节点-->

<!--节点可以很方便的获取任意标签中的元素-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div>

    <p></p>

    <span></span>

        <input type="text">

    <a href="#"></a>

</div>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<!--父节点-->
<div id="dv1">

    <!--子节点-->
    <span>这是 dv1 中的第一个 span 标签</span>

    <!--子节点-->
    <p>这是 dv1 中的第二个元素，第一个 p 标签</p>

    <!--子节点-->
    <ul id="ul1">
        <!--子节点-->
        <li>乔峰</li>
        <li>鹿茸</li>
        <li>段誉</li>
        <li id="three">卡卡西</li>
        <li>雏田</li>
    </ul>
</div>


<script>

    function my$(element) {

        return document.getElementById(element);
    }


    //父级节点 & 父级元素
    var ulObj = my$('ul1');

    //获取父级节点
    console.log(ulObj.parentNode);                              //<div id="dv1"></div>

    //获取父级元素
    console.log(ulObj.parentElement);                           //<div id="dv1"></div>

    console.log(ulObj.parentNode.nodeValue);                    //null

    console.log(ulObj.parentNode);                                          //div
    console.log(ulObj.parentNode.parentNode);                               //body
    console.log(ulObj.parentNode.parentNode.parentNode);                    //html
    console.log(ulObj.parentNode.parentNode.parentNode.parentNode);         //document


    //获取子节点
    //子节点包括了: 标签、属性、文本( 文字、换行、空格、回车 )
    console.log(ulObj.childNodes);          //NodeList(7) => [text, span, text, p, text, ul(#ul1), text]

    //获取子元素
    console.log(ulObj.children);            //HTMLCollection(3) => [span, p, ul#ul1, ul1#uu]

    //获取每个子节点
    var dv1Obj = document.getElementById('dv1');

    //nodeType
    //
    // =>1 == 标签;
    // =>2 == 属性;
    // =>3 == 文本
    //
    //nodeName
    //
    // => tag: 大写标签;
    // => attribute: 小写属性名
    // => text: #text
    //
    //nodeValue
    //
    // => tag: null;
    // => attribute: 属性值
    // => text: 文本内容
    //
    //
    for (var i = 0; i < dv1Obj.childNodes.length; i++) {

        var node = dv1Obj.childNodes[i];
        console.log(node.nodeType + '|' + node.nodeName + '|' + node.nodeValue);

    }


    var dv1obj = document.getElementById('dv1');

    var node1 = dv1Obj.getAttributeNode('id');

    console.log(node1.nodeType + '|' + node1.nodeName + '|' + node1.nodeValue);         // 2 | id | dv1


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--12 行代码: 都是获取 节点 和 元素-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<script>


    // 谷歌、火狐 都支持

    //父节点
    console.log(ulObj.parentNode);
    //父元素
    console.log(ulObj.parentElement);

    //子节点
    console.log(ulObj.childNodes);          //子节点包括: 空格、回车、文本...
    //子元素
    console.log(ulObj.children);


    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    //第一个子节点
    console.log(ulObj.firstChild);                          //IE8 中第一个子元素
    //第一个子元素
    console.log(ulObj.firstElementChild);                   //IE8 不支持

    //最后一个子节点
    console.log(ulObj.lastChild);                           //IE8 中最后一个子元素
    //最后一个子元素
    console.log(ulObj.lastElementChild);                    //IE8 不支持

    //前一个兄弟节点
    console.log(my$('three').previousSibling);              //IE8 中前一个兄元素
    //前一个兄弟子元素
    console.log(my$('three').previousElementSibling);       //IE8 不支持

    //后一个兄弟节点
    console.log(my$('three').nextSibling);                  //IE8 中后一个兄弟元素
    //后一个兄弟元素
    console.log(my$('three').nextElementSibling);           //IE8 不支持


</script>


<!--------------------------------------------------------------------------------------------------------------------->


<!--点击按钮

设置 div 中标签改变背景颜色-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="dv2" style="width: 300px; height: 300px; border: 2px solid red;">
    <span>This is a span</span>
    <p>This is a paragraph</p>
    <span>This is a span</span>
    <p>This is a paragraph</p>
    <span>This is a span</span>
    <p>This is a paragraph</p>
    <span>This is a span</span>
    <br>
    <br>
    <a href="http://wwww.baidu.con">百度 </a>
</div>

<input type="button" value="changeColor" id="btn1">

<script>

    my$('btn1').onclick = function () {

        //获取 dv2
        var dv2obj = my$('dv2');

        //获取 dv2 中所有 子节点
        var nodes2 = dv2obj.childNodes;

        //循环遍历所有的 子节点
        for (var i = 0; i < nodes2.length; i++) {

            //判断 子节点 是不是 p 标签
            //
            // 如果 nodes2[i].nodeName != "P"; 则 span 和 a 标签会改变背景颜色
            //
            if (nodes2[i].nodeType === 1 && nodes2[i].nodeName === "P") {

                nodes2[i].style.backgroundColor = "red";
            }
        }
    };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--节点操作

隔行变色-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<ul id="ul2">
    <li>铁板鱿鱼</li>
    <li>熏肉大饼</li>
    <li>汇通面</li>
    <li>肉夹馍</li>
    <li>凉皮</li>
    <li>菜疙瘩</li>
    <li>葫芦头</li>
    <li>干拌面</li>
    <li>大盘鸡</li>
</ul>

<input type="button" value="隔行变色" id="btn2">

<script>

    //注册按钮点击事件
    //my$('btn2').onclick = function () {

    //计数器
    var count = 0;

    //获取 所有 li  子节点
    var nodes3 = my$('ul2').childNodes;

    //循环遍历所有子即诶单
    for (var i = 0; i < nodes3.length; i++) {

        //判断是否是 单数行
        if (nodes3[i].nodeType == 1 && nodes3[i].nodeName == "LI") {

            //因为有很多个节点，所有不能这样使用
            //nodes3[i].style.backgroundColor = i % 2 == 0 ? "red" : 'yellow';

            nodes3[i].style.backgroundColor = count % 2 == 0 ? "red" : "yellow";
            count++;
        }
    }


</script>


<!--------------------------------------------------------------------------------------------------------------------->


<!--节点的兼容代码-->

<!--第一个节点和第一个元素的获取的代码在 IE8 中可能不支持-->
<!--最后一个节点和最后一个元素de获取的代码在 IE8 中可能不支持-->
<!--前一个节点和前一个元素的获取的代码在 IE8 中可能不支持-->
<!--后一个节点和后一个元素的获取的代码在 IE8 中可能不支持-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<ul id="ul3">
    <li>第一个</li>
    <li>第二个</li>
    <li>前一个</li>
    <li id="four">第四个</li>
    <li>后一个</li>
    <li>最后一个</li>
</ul>


<!--获取任意一个父级元素的第一个子元素-->
<script>

    function my$(element) {

        return document.getElementById(element);
    }

    function getFirstElementChildByParentElement(element) {

        //element.firstChild => 谷歌 和 火狐获取的是第一个节点
        //element.firstChild => IE8 获取第一个子元素
        //element.firstElementChild => 谷歌 和 火狐 获取的是第一个子元素，IE8 不支持

        //if (typeof element.firstElementChild == "undefined") {
        //
        //undefined == false，if 中只有条件为 true 才会执行
        if (element.firstElementChild) {        //支持

            return element.firstElementChild;

        } else {                                //不支持

            //不能判断第一个节点就是第一个元素
            // return element.firstChild;

            //获取任意元素的子节点
            var node = element.firstChild;

            //判断节点是否是元素
            while (node && node.nodeType != 1) {

                //如果不是则继续判断下一个节点
                node = node.nextSibling;
            }

            return node;
        }
    }

    console.log(getFirstElementChildByParentElement(my$('ul3')).innerText);


</script>


<!--获取任意一个父级元素的最后一个子元素-->
<script>

    function getLastElementChildByParentElement(element) {

        if (element.lastElementChild) {

            return element.lastElementChild;

        } else {

            var node = element.lastChild;

            while (node && node.nodeType != 1) {

                node = node.previousSibling;
            }
        }

        return node;
    }

    console.log(getLastElementChildByParentElement(my$('ul3')).innerText);

</script>


<!--获取任意一个兄弟元素的前一个子元素-->
<script>

    function getPreviousElement(element) {

        if (element.previousElementSibling) {

            return element.previousElementSibling;

        } else {

            var node = element.previousSibling;

            while (node && node.nodeType != 1) {

                node = node.previousSibling;
            }
        }

        return node;
    }

    console.log(getPreviousElement(my$('four')).innerText);

</script>


<!--获取任意一个兄弟元素的后一个元素-->
<script>

    function getNextElementSibling(element) {

        if (element.nextElementSibling) {

            return element.nextElementSibling;

        } else {

            var node = element.nextSibling;


            while (node && node.nodeType != 1) {

                node = node.nextSibling;
            }
        }

        return node;
    }

    console.log(getNextElementSibling(my$('four')).innerText);

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--切换背景图片-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="wrap">
    <div id="dv3">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569561570013&di=12aadd67647c0a92544346d571c49648&imgtype=0&src=http%3A%2F%2Fi-2.yxdown.com%2F2014%2F7%2F4%2F06125f68-f7c1-4171-943d-a02c81ce9347.jpg"
             alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569561603330&di=92fa35560bf7ac8a45c5bcab780ef937&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201607%2F18%2F20160718114402_rKEhx.jpeg"
             alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569561676103&di=4a57a647023184654163a0c0aa40a0e0&imgtype=0&src=http%3A%2F%2Fwap.yesky.com%2Fimagelist%2F2009%2F016%2Frz82a8h18sy1.jpg"
             alt="">
        <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569561747854&di=634b46f29cbad7a0cb3c2901cba1d6f7&imgtype=jpg&src=http%3A%2F%2Fimg4.imgtn.bdimg.com%2Fit%2Fu%3D3396049129%2C2232948317%26fm%3D214%26gp%3D0.jpg"
             alt="">
    </div>
</div>

<script>

    //获取所有的子元素图片
    var imgObjs = my$('dv3').children;

    //循环遍历所有的图片，并注册点击事件
    for (var i = 0; i < imgObjs.length; i++) {

        imgObjs[i].onclick = function () {

            my$('wrap').style.backgroundImage = "url(" + this.src + ")";
        };
    }

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div class="wrap">
    <table>
        <thead>
        <tr>
            <th>
                <input type="checkbox" id="j_cbAll"/>
            </th>
            <th>菜名</th>
            <th>饭店</th>
        </tr>
        </thead>
        <tbody id="j_tb">
        <tr>
            <td>
                <input type="checkbox"/>
            </td>
            <td>红烧肉</td>
            <td>田老师</td>
        </tr>
        <tr>
            <td>
                <input type="checkbox"/>
            </td>
            <td>西红柿鸡蛋</td>
            <td>田老师</td>
        </tr>
        <tr>
            <td>
                <input type="checkbox"/>
            </td>
            <td>油炸榴莲</td>
            <td>田老师</td>
        </tr>
        <tr>
            <td>
                <input type="checkbox"/>
            </td>
            <td>清蒸助教</td>
            <td>田老师</td>
        </tr>

        </tbody>
    </table>
</div>


<script>

    //获取全选的复选框
    var ckAll = my$('j_cbAll');

    var cks = my$('j_tb').getElementsByTagName('input');

    ckAll.onclick = function () {

        for (var i = 0; i < cks.length; i++) {

            cks[i].checked = this.checked;
        }
    };

    //获取 tbody 中所有的复选框，分别注册点击事件
    for (var i = 0; i < cks.length; i++) {

        cks[i].onclick = function () {

            //默认都被选中
            var flag = true;

            //判断是否所有复选框都选中
            for (var j = 0; j < cks.length; j++) {

                if (!cks[j].checked) {

                    //没有选中就进来
                    flag = false;
                    break;
                }
            }

            ckAll.checked = flag;
        }
    }


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--元素创建的不同方式-->

<!--第一种元素创建方式-->

<!--document.write();创建元素-->

<!--缺陷: 如果是在页面加载完毕后，此时通过这种方式创建元素，那么页面上存在的所有的内容全部都会被干掉( 会重新加载跳转到新页面 )-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="创建一个段落" id="btn6">

<script>

    my$('btn6').onclick = function () {

        document.write('<p>This is a paragraph</p>');
    };

    document.write('<p>This is a paragraph</p>');

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--第二种元素的创建方式-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="在dv中创建一个段落" id="btn7">

<div id="dv4" style="width: 200px; height: 100px; border: 2px solid pink;"></div>

<script>

    my$('btn7').onclick = function () {

        my$('dv4').innerHTML = "<p>This is another paragraph</p>";

        //如果直接写在 body 中，会重新加载新页面
        // document.body.innerHTML = "<p>This is another paragraph</p>";

    }

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--点击按钮

创建图片-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

<input type="button" value="创建一张图片" id="btn8">

<div id="dv5"></div>


<script>

    my$('btn8').onclick = function () {

        my$('dv5').innerHTML = "<img src='https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/home/img/qrcode/zbios_x2_5869f49.png' alt='baidu'>";
    }

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--点击按钮

创建列表-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="创建列表1" id="btn9">


<div id="dv6" style="width: 200px; height: 400px; background-color: cornflowerblue;"></div>


<script>

    my$('btn9').onclick = function () {

        my$('dv6').innerHTML = "<ul><li>杨过</li><li>小龙女</li><lī>张三丰</lī></ul>";
    };

</script>


<hr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="创建列表2" id="btn10">

<div id="dv7" style="width: 200px; height: 400px; background-color: cadetblue;"></div>

<script>

    var names = ["杨过", "张无忌", "张三丰", "乔峰", "段誉", "丁春秋"];

    my$('btn10').onclick = function () {

        var str = "<ul style='list-style-type: none; cursor: pointer;'>";

        for (var i = 0; i < names.length; i++) {

            str += "<li>" + names[i] + "</li>";
        }

        str += "</ul>";

        my$('dv7').innerHTML = str;

        //为所有 li 添加鼠标事件
        var list = my$('dv7').getElementsByTagName('li');

        for (var i = 0; i < list.length; i++) {

            list[i].onmouseover = function () {

                this.style.backgroundColor = "yellow";
            };

            list[i].onmouseout = function () {

                this.style.backgroundColor = "";
            };
        }
    };

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--第三种元素的创建方式-->

<!--document.createElement('tagName');  对象-->

<!--step 1: 创建元素-->
<!--step 2: 追加父级元素-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="Create a new paragraph" id="btn11">

<div id="dv8" style="width: 200px; height: 300px; border: 1px dashed pink;"></div>

<script>

    function setInnerText(element, text) {

        //判断浏览器是否支持这个属性( 判断这个属性的类型，是否是 undefined，如果是则不支持，如果不是则支持 )
        if (typeof element.textContent == "undefined") {

            element.innerText = text;

        } else {

            element.textContent = text;
        }
    }

    my$('btn11').onclick = function () {

        //step 1: 创建元素
        var pObj = document.createElement('p');

        //追加到父级元素中
        my$('dv8').appendChild(pObj);

        setInnerText(pObj, "This is a paragraph");

    };

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<input type="button" value="创建一个段落" id="btn12">

<div id="dv9" style="width: 200px; height: 300px; border: 1px dashed black;"></div>


<script>


    var kongfu = ["降龙十八掌", "黯然销魂掌", "葵花宝典", "九阴真经", "如来神掌"];


    my$('btn12').onclick = function () {

        //创建 ul 标签
        var ulObj = document.createElement('ul');

        //追加 ul 的父级
        my$('dv9').appendChild(ulObj);

        for (var i = 0; i < kongfu.length; i++) {

            var liObj = document.createElement('li');

            //设置 li 中的文字内容
            liObj.innerText = kongfu[i];

            ulObj.appendChild(liObj);

            //为 li 添加 鼠标进入事件
            //如果直接在 循环中 添加函数，则效率太慢
            liObj.onmouseover = mouseoverHandle;

            //为 li 添加 鼠标离开事件
            //如果直接在 循环中 添加函数，则效率太慢
            liObj.onmouseout = mouseoutHandle;
        }
    };

    function mouseoverHandle() {

        this.style.backgroundColor = "yellow";
    }

    function mouseoutHandle() {

        this.style.backgroundColor = "";
    }

</script>

<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--点击按钮

添加表格-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="创建表格" id="btn13">

<div id="dv10" style="width: 350px;  height: 460px; border: 2px solid black;"></div>


<script>

    var arr2 = [

        {name: "百度", href: "http://wwww.baidu.com"},
        {name: "谷歌", href: "http://wwww.google.com"},
        {name: "优酷", href: "http://wwww.youku.com"},
        {name: "土豆", href: "http://wwww.tudou.com"},
        {name: "快播", href: "http://wwww.kuaibo.com"},
        {name: "爱奇艺", href: "http://wwww.aiqiyi.com"}

    ];

    my$('btn13').onclick = function () {

        //创建 table 加入 div
        var tableObj = document.createElement('table');

        my$('dv10').appendChild(tableObj);

        //创建行，追加到 table 中
        for (var i = 0; i < arr2.length; i++) {

            //每个对象
            var dt = arr2[i];

            //创建多 行，并追加到 table 中
            var trObj = document.createElement('tr');
            tableObj.appendChild(trObj);

            //创建第一列
            var td1 = document.createElement('td');
            td1.innerText = dt.name;
            trObj.appendChild(td1);

            //创建第二列
            var td2 = document.createElement('td');
            td2.innerText = "<a href = " + dt.href + ">" + dt.name + "</a>";
            trObj.appendChild(td2);
        }
    };

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--元素相关的方法-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="显示效果1" id="btn14">

<input type="button" value="显示效果2" id="btn15">

<input type="button" value="显示效果2" id="btn16">

<div id="dv11" style="width: 200px; height: 300px; border: 2px solid black;"></div>


<script>

    var i = 0;

    my$('btn14').onclick = function () {

        i++;

        //创建 input 标签
        var obj = document.createElement('input');

        obj.type = "button";
        obj.value = "按钮" + i;

        //追加子元素
        my$('dv11').appendChild(obj);

        //插入在另一个元素前面
        //
        // my$('dv11').insertBefore(obj, my$('dv').firstElementChild);

        //替换一个元素
        //
        // my$('dv11').replaceChild(obj, my$('dv').lastElementChild);


        //移除单个元素
        my$('btn15').onclick = function () {

            my$('dv11').removeChild(my$('dv11').firstElementChild);
        };


        //利用循环移除所有元素
        my$('btn16').onclick = function () {

            while (my$('dv11').firstElementChild) {

                my$('dv11').removeChild(my$('dv11').firstElementChild);
            }
        };
    };

</script>

<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--只创建一个元素-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="显示效果" id="btn17">

<input type="button" value="显示效果" id="btn18">

<div id="dv12" style="width: 200px; height: 300px; border: 2px solid black;"></div>

<div id="dv13" style="width: 200px; height: 300px; border: 2px solid black;"></div>


<!--有则删除，无则创建-->
<script>

    my$('btn17').onclick = function () {

        //判断 div 中有没有这个按钮，有就删除
        //判断这个按钮的子元素是否存在
        if (my$('btn20')) {

            my$('dv12').removeChild('btn20');
        }

        var obj = document.createElement('input');

        obj.type = "button";
        obj.value = "按钮";
        obj.id = "btn20";

        my$('dv12').appendChild(obj);
    };

</script>


<script>

    my$('btn18').onclick = function () {

        if (!my$('btn21')) {

            var obj = document.createElement('input');

            obj.type = "button";
            obj.value = "按钮";
            obj.id = "btn21";

            my$('dv13').appendChild(obj);
        }
    };

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--为同一个元素绑定多个相同的事件-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="显示效果14" id="btn22">

<div id="dv14" style="width: 200px; height: 300px; border: 2px solid black;"></div>

<script>

    //为按钮绑定点击事件
    //参数1: type( string ) => 事件类型
    //参数2: function => 函数( 明明函数，匿名函数 )
    //参数3: boolean => 目前就写 false

    my$('btn22').addEventListener("click", function () {

        console.log('This is a paragraph');
    }, false);

    my$('btn22').addEventListener("click", function () {

        console.log('This is another paragraph');
    }, false);

    my$('btn22').addEventListener("click", function () {

        console.log('This is all paragraph');
    }, false);

</script>


<hr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<!--为元素绑定事件( DOM ): 两种模式-->

<!--step 1: obj.addEventListener("type", function, boolean); => 谷歌 火狐 支持，IE8 不支持-->

<!--step 2 : obj.attachEvent("type(有 on 的事件类型)", 事件处理函数)；=> 谷歌 火狐 不支持，IE8 支持-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="显示效果" id="btn23">

<div id="dv15" style="width: 200px; height: 300px; border: 2px solid black;"></div>


<script>


    // my$('btn23').attachEvent("onclick", function () {
    //
    //     console.log("Hello world");
    // });


</script>


<hr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<!--为元素绑定事件兼容代码-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="按钮" id="btn24">


<script>

    //为任意元素绑定任意事件
    function addEventListener(element, type, fn) {

        //判断浏览器是否支持这个方法
        if (element.addEventListener) {

            element.addEventListener(type, fn, false);

        } else if (element.attachEvent) {

            //因为用户传送时候 为了满足 addEventListener 中的 type 是没有 on 的
            element.attachEvent('on' + type, false);

        } else {

            element['on' + type] = fn;
        }

    };

</script>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="显示效果" id="btn25">


<script>

    // my$('btn25').addEventListener('click', function () {
    //
    //     console.log(this);          // <input type="button" value="显示效果" id="btn25">
    //
    // }, false);
    //
    // my$('btn25').attachEvent('onclick', function () {
    //
    //     console.log(this);          // object.window
    // });

</script>


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<!--为元素

解绑事件-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="绑定事件1" id="btn26">

<input type="button" value="绑定事件2" id="btn30">

<input type="button" value="绑定事件3" id="btn31">

<input type="button" value="解绑定事件 method 1" id="btn27">

<input type="button" value="解绑定事件 method 2" id="btn28">

<input type="button" value="解绑定事件 method 3" id="btn29">


<script>

    //绑定事件 1( 匿名函数 )
    my$('btn26').onclick = function () {

        console.log('See you again');
    };

    //绑定事件 2( 命名函数 )
    function f1() {
        console.log('Hello world');
    }

    my$('btn30').addEventListener('click', f1, false);

    //绑定事件 3( 命名函数 )
    // function f2() {
    //     console.log('Don\'t give up');
    // };
    // my$('btn29').attachEvent('onclick', f2);


    //解绑事件方法 1
    my$('btn27').onclick = function () {

        my$('btn26').onclick = null;
    };

    //解绑事件方法 2
    //
    // 只能解绑命名函数 !!!
    //
    // IE8 不支持
    //
    my$('btn28').onclick = function () {

        my$('btn30').removeEventListener('click', f1, false);
    };

    //解绑事件方法 3
    //
    // 只能解绑命名函数 !!!
    //
    // my$('btn31').detachEvent('onclick', f2);


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--为任意元素绑定事件和解绑事件的兼容代码-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="显示效果1" id="btn32">

<input type="button" value="显示效果2" id="btn33">


<!--为任意元素绑定事件-->
<script>

    function addEventListener(element, type, fn) {

        if (element.addEventListener) {

            element.addEventListener(type, fn, false);

        } else if (element.attachEvent) {

            element.attachEvent('on' + type, fn);

        } else {

            element['on' + type] = fn;
        }
    }

</script>


<!--为任意元素解绑事件-->
<script>

    function removeEventListener(element, type, fnName) {

        if (element.removeEventListener) {

            element.removeEventListener(type, fnName, false);

        } else if (element.attachEvent) {

            element.detachEvent('on' + type, fnName);

        } else {

            element['on' + type] = null;
        }
    }

</script>


<input type="button" value="测试1" id="btn34">

<input type="button" value="测试2" id="btn35">

<input type="button" value="解绑1" id="btn36">

<input type="button" value="解绑2" id="btn37">


<!--测试-->
<script>


    function f3() {

        console.log('第一个 ');
    }

    function f4() {

        console.log('第二个');
    }


    //测试绑定事件
    addEventListener(my$('btn34'), 'click', f3);

    addEventListener(my$('btn35'), 'click', f4);


    //测试移除绑定事件mv

    my$('btn37').onclick = function () {

        removeEventListener(my$('btn34'), 'click', f3);
    };


    // my$('btn38').onclick = function () {
    //
    //     removeEventListener(my$('btn35'), 'click', f4);
    // };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


</body>
</html>