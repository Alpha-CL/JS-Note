<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<!--------------------------------------------------------------------------------------------------------------------->


<!--事件冒泡-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="dv16" style="width: 300px; height: 200px; background-color: red;">
    <div id="dv17" style="width: 250px; height: 150px; background-color: green;">
        <div id="dv18" style="width: 200px; height: 100px; background-color: blue;"></div>
    </div>
</div>

<script>


    // my$('dv16').onclick = function () {
    //
    //     console.log(this.id);
    // };
    //
    // my$('dv17').onclick = function () {
    //
    //     console.log(this.id);
    // };
    //
    // my$('dv18').onclick = function () {
    //
    //     console.log(this.id);
    // };
    // document.body.onclick = function () {
    //
    //     console.log('颤抖吧，这些愚蠢的标签');
    // };


</script>

<!--阻止事件冒泡-->
<script>

    function my$(ele) {

        return document.getElementById(ele);
    }


    my$('dv16').onclick = function () {

        console.log(this.id);
    };

    my$('dv17').onclick = function () {

        console.log(this.id);
    };


    // my$('dv18').onclick = function (event) {
    //
    //     console.log(this.id);
    //
    //     console.log(event);                       // event: 事件处理参数对象
    //     //MouseEvent {sTrusted; true, screenX: 110, screenY: 122; clientX: 110, clientY; 56, _};
    // };
    //
    // 火狐 和 谷歌 都有
    // IE8 中没有 event( 事件处理参数对象 ); 返回 undefined
    //
    //
    //
    //

    my$('dv18').onclick = function () {

        console.log(this.id);
        window.event.cancelable = true;         // IE8 特有特有，谷歌支持，火狐不支持
        //
        // .cancelable 是属性，需要对象点出来
    };


</script>


<script>


    my$('dv16').onclick = function () {

        console.log(this.id);
    };

    my$('dv17').onclick = function () {

        console.log(this.id);
    };

    //IE8 中 函数没有 参数，返回 undefined
    my$('dv18').onclick = function (event) {

        console.log(this.id);
        event.stopPropagation();             // 谷歌火狐支持，IE8  不支持
        //
        // .stopPropagation(); 是方法，没有 event( 事件处理参数对象 )
    };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--事件总结-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="dv19" style="width: 300px; height: 200px; background-color: red;">
    <div id="dv20" style="width: 250px; height: 150px; background-color: green;">
        <div id="dv21" style="width: 200px; height: 100px; background-color: blue;"></div>
    </div>
</div>


<script>

    //同时注册点击事件
    var dvObjs = [my$('dv19'), my$('dv20'), my$('dv21')];

    //遍历注册事件
    dvObjs.forEach(function (ele) {                 // function(ele, idx, arr) {};

        // console.log(arguments.length);                              //3

        // console.log(arguments[0], arguments[1], arguments[2]);

        //为每个元素绑定事件
        ele.addEventListener('click', function () {

            console.log(this.id);

        }, true);
        //
        //
        // false: 冒泡阶段
        //
        // true: 捕获阶段
        //

    });

</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--为同一个元素绑定多个不同事件，指向同一个事件处理函数-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="显示效果" id="btn1">

<script>


    //step - 1
    //
    // 为多个不同的事件，指向下相同的事件处理函数
    //
    my$('btn1').onclick = f1;
    my$('btn1').onmouseover = f1;
    my$('btn1').onmouseout = f1;


    //step - 2
    //
    // my$('btn1').onclick = function (e) {
    //
    //     console.log(e);                 // e.type = click
    // };
    //
    // my$('btn1').onmouseover  = function () {
    //
    //     console.log(e);                 // e.type = mouseover
    // };
    //
    //
    // my$('btn1').onmouseout = function (e) {
    //
    //     console.log(e);                 // e.type = mouseout
    // };


    //step - 3
    //
    //
    function f1(e) {

        switch (e.type) {

            case 'click':
                alert('Hello world');
                break;
            case 'mouseover':
                this.style.backgroundColor = 'red';
                break;
            case 'mouseout':
                this.style.backgroundColor = 'green';
                break;
        }
    }


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


</body>
</html>