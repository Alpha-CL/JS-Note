# Data Collection

> 一直以来，JS 只能使用数组和对象来保存数据, 缺乏像其他语言那样拥有丰富的集合类型
> 
> 因此，ES6 新增两种数据集合类型 set & map, 用于不同场景的数据存储

## Set Of ES6

> set 用于存放不重复的数据集合

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 如何创建 set 集合
 * 
 * 
 */


const st = new Set();               // 创建一个空的 set 集合

console.log(st);

// Set(0)
//     [[Entries]]
// No properties
// size: (...)
// __proto__: Set


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * new set(iterable);
 *
 * @iterable: 可迭代对象的返回结果
 */

// 创建一个具有初始内容的 set 集合，内容来自可迭代对象每一次的迭代结果

const st2 = new Set([1, 2, 3, 4, 5]);               // new set(iterable);

console.log(st2);

// Set(5) {1, 2, 3, 4, 5}
// [[Entries]]
// 0: 1
// 1: 2
// 2: 3
// 3: 4
// 4: 5
// size: (...)
// __proto__: Set


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * 利用 Set 的特性，无法存入相同的数据
 *
 * 数组去重
 */

const st3 = new Set([1, 1, 1, 2, 2, 3, 3, 3, 3, 4, 4]);

console.log(st3);           // Set(5) {1, 2, 3, 4, 5}


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * 利用 Set 的特性，存放不重复的数据集合
 *
 * 字符串去重
 */

const str = new Set("asdfasdfsasdawsdfa");

console.log(str);           // Set(5) {"a", "s", "d", "f", "w"}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

### Set Methods

#### add();

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * add(value: any);
 *
 *
 * Set 内部使用 Object.is 判断两个数据是否相同( 特殊情况: +0 === -0 )
 */

const st1 = new Set();


function test() {}

st1.add(1);                         // number
st1.add('a');                       // string
st1.add(false);                     // boolean


st1.add(1);                         // 无法重复添加相同的数据
st1.add('a');                       // 无法重复添加相同的数据


st1.add([1, 2, 3]);                 // array
st1.add({name: 1, age: 18});        // object
st1.add(test);                      // function


st1.add(+0);                        // 特殊情况: +0 === -0
st1.add(-0);


console.log(st1);


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### has();

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * has(any)boolean;
 *
 * 判断 set 中是否存在对应的数据
 */

const st1 = new Set();


function test() {}
st1.add(1);                         
st1.add('a');                       
st1.add(false);                     
st1.add(1);                         
st1.add('a');                       
st1.add([1, 2, 3]);                 
st1.add({name: 1, age: 18});        
st1.add(test);                      
st1.add(+0);                        
st1.add(-0);


console.log(st1.has('666'));        // false
console.log(st1.has('999'));        // false


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### delete();

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * delete(any)boolean;
 *
 * 返回是否删除成功
 */

const st1 = new Set();


function test() {}
st1.add(1);
st1.add('a');
st1.add(false);
st1.add(1);
st1.add('a');
st1.add([1, 2, 3]);
st1.add({name: 1, age: 18});
st1.add(test);
st1.add(+0);
st1.add(-0);


console.log(st1.delete(1));                  // true
console.log(st1.delete('alpha'));            // false


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### clear();

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/*
 * clear();
 *
 * 清空数据集合中的所有内容
 */

const st1 = new Set();


function test() {}
st1.add(1);
st1.add('a');
st1.add(false);
st1.add(1);
st1.add('a');
st1.add([1, 2, 3]);
st1.add({name: 1, age: 18});
st1.add(test);
st1.add(+0);
st1.add(-0);


st1.clear();
console.log(st1);               // Set(0) {}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### set of array

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 数组去重
 * 
 * set 用于存放不重复的数据集合
 * 可迭代对象可以被解构
 */

const arr = [1, 2, 2, 4, 4, 4, 1, 1, 11];           // set 用于存放不重复的数据集合

const result = [...new Set(arr)];                   // 可迭代对象可以被解构


console.log(result);            // (4) [1, 2, 4, 11]


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### set of string

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 字符串去重
 * 
 * set 用于存放不重复的数据集合
 * 可迭代对象可以被解构
 * 数组拼接为字符串 join('');
 */

const str = "sadsadsadsafadsafas112232314123";

const result = [...new Set(str)].join('');

console.log(result);                // sadf1234


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### set enumerate

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////





///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

## Map Of ES6

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 
 * 
 * 
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```
