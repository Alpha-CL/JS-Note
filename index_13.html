<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>Title</title>


    <script>


        function my$(ele) {

            return document.getElementById(ele);
        }

        //用于设置页面数据加载完毕
        //只要页面加载完毕，这个事件就会触发( 页面中的所有内容、标签、属性、文本、包括外部引入的 JS 文件 )
        //
        // window 可以省略
        window.onload = function () {

            //无法在页面数据未加载完毕之前调用之后的内容
            document.getElementById('btn1').onclick = function () {

                alert('Hi baby, i am come back');
            };
        };


    </script>


    <style>


        span {
            position: absolute;
            font-size: 40px;
        }


    </style>

</head>
<body>

</body>
</html>


<!--------------------------------------------------------------------------------------------------------------------->


<!--测试 window-->

<!--因为页面中的所有内容都是 window 的，window 是可以省略的-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<script>


    var num = 10;

    console.log(window.num);                // 10


    function f1() {

        console.log('Hello world');
    }

    window.f1();                            // Hello world


    window.document.write('see you again');

    // window.write('see you again')        // 不能使用


</script>


<script>


    console.log(window.name);                   // 空

    console.log(top);                           // window

    console.log(window);                        // window


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--window.alert();-->

<!--只用于测试，项目中不使用( 不同浏览器的默认弹窗都不一样 )-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="按钮" id="btn1">


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--扩展事件 IE8 特有事件-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<script>

    // IE8: 页面关闭之后触发的事件
    window.onunload = function () {

    };

</script>


<script>

    // IE8: 页面关闭之前触发的事件
    window.onbeforeunload = function () {

    };

</script>


<!--------------------------------------------------------------------------------------------------------------------->


<!--location 对象-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<script>


    // http://localhost:63342/JS-Note/index_13.html?_ijt=abuof0f8a3m5jv089qo1h06jkj


    // 获取'#' 后跟 URL 的片段标识符
    console.log(window.location.hash);                      //


    // 获取即主机名，URL ':' 和 端口
    console.log(window.location.host);                      // localhost:63342


    // 获取URL 的 域( 主机名 )
    console.log(window.location.hostname);                  // localhost


    // 获取包含缩写 '/' 的 URL，后跟 URL 的路径
    console.log(window.location.pathname);                  // /JS-Note/index_13.html


    // 获取URL 的 端口号
    console.log(window.location.port);                      // 63342


    // 获取URL的协议方案（ 包括 final ）的':'
    console.log(window.location.protocol);                  // http:


    // 获取'?' 后跟 URL的参数 或 “查询字符串”
    console.log(window.location.search);                    //


</script>


<input type="button" value="显示效果1" id="btn2">

<input type="button" value="显示效果2" id="btn3">

<input type="button" value="显示效果3" id="btn4">

<input type="button" value="显示效果4" id="btn5">


<script>


    // location.href; 和 location.assign(); 都是设置页面跳转，效果相同
    //
    // location.href 属于属性
    // location.assign(); 属于方法
    //
    // 自动把 地址 存放在 浏览器的 历史记录中，所以可以后退回之前的页面
    //
    onload = function () {


        // location.href
        //
        document.getElementById('btn2').onclick = function () {

            //设置跳转页面
            location.href = 'http://wwww.baidu.com';
        };


        // location.assign();
        //
        document.getElementById('btn3').onclick = function () {

            //设置跳转页面
            location.assign('http://wwww.baidu.com');
        };


        //location.replace();
        //
        document.getElementById('btn4').onclick = function () {

            //在当前页面加载新页面( 不能返回之前的页面 )
            location.replace('http://wwww.baidu.com');
        };


        // reload();
        //
        document.getElementById('btn5').onclick = function () {

            //刷新( 重新加载 )
            location.reload();
        }
    };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--history-->

<!--一般情况不用加入，前进和后退，有可能出现在 "公司内部管理项目时使用"-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="跳转" id="btn6">

<input type="button" value="前进" id="btn7">

<input type="button" value="后退" id="btn8">


<script>


    my$('btn6').onclick = function () {

        //跳转
        window.location.href = 'http://wwww.baidu.com';
    };


    my$('btn7').onclick = function () {

        //前进
        window.history.forward();
    };


    my$('btn8').onclick = function () {

        //后退
        window.history.back();
    }


    my$('btn9').onclick = function () {

        // go(); 中的数字正负代表前进和后退
        //
        // 正为前进
        // 负为后退
        //
        window.history.go();
    }


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--navigator-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<script>


    //通过 platform 可以判断浏览器所在的系统平台类型
    //每个浏览器的类型各不相同( 字符串类型没有固定格式 )
    //
    console.log(window.navigator.platform);

    //获取浏览器版本
    //
    // 可以在 Network 中，查看 User-Agent 属性
    // 不同分辨率下，调用不同类型的浏览器及内核，用于测试效果
    //
    console.log(window.navigator.userAgent);


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--计时器-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<!--停止计时器需要 计时器返回的 值( 返回的值就是 ID )-->
<input type="button" value="停止计时器" id="btn9">


<script>


    // var timeId = setInterval(function () {
    //
    //     alert('hello world');
    // }, 2000);
    //
    // my$('btn9').onclick = function () {
    //
    //     window.clearInterval(timeId);
    // };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--图片摇摆案例-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="dv1" style="position: relative;">
    <div style="display: inline-block; width: 200px; height: 200px; background-color: aquamarine;"></div>
    <div style="display: inline-block; width: 200px; height: 200px; background-color: hotpink;"></div>
</div>

<br>
<br>
<br>

<input type="button" value="摇起来" id="btn10">

<input type="button" value="停止" id="btn11">


<script>


    var timeId1 = "";

    my$('btn10').onclick = function () {

        //局部变量声明提升
        timeId1 = setInterval(function () {

            //随机数
            var x = parseInt(Math.random() * 50 + 1);
            var y = parseInt(Math.random() * 50 + 1);

            //改变 dv 的位置
            my$('dv1').style.left = x + 'px';
            my$('dv1').style.top = y + 'px';

        }, 100);

    };

    my$('btn11').onclick = function () {

        clearInterval(timeId1);
    };


</script>

<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--一闪一闪亮晶晶-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="dv2" style="position: relative; width: 600px; height: 600px; background-color: #404059;"></div>

<br>
<br>
<input type="button" value="亮晶晶" id="btn12">


<script>


    my$('btn12').onclick = function () {

        setInterval(function () {

            var x = parseInt(Math.random() * 600 + 1);
            var y = parseInt(Math.random() * 600 + 1);

            my$('dv2').innerHTML = "<span>✨</span>";

            my$('dv2').firstElementChild.style.left = x + 'px';
            my$('dv2').firstElementChild.style.top = y + 'px';

        }, 100)
    };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--切换以时间命名图片-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<img src="img/24-24.jpg" alt="" id="im">


<script>


    //为了解决过 1 秒才产生图片所以在 计时器 执行之前 先执行一次 函数
    // function f3() {
    //
    //     //获取当前事件
    //     var dt = new Date();
    //
    //     //获取当前小时
    //     var hour = dt.hour;
    //
    //     //获取当前秒
    //     var second = dt.second;
    //
    //     //解决如果小于 10 则是 单数的情况
    //     hour = hour < 10 ? '0' + hour : hour;
    //
    //     //解决如果小于 10 则是 单数的情况
    //     second = second < 10 ? '0' + second : second;
    //
    //     //因为图片的名称中 有 小时 和 秒 的值 组成
    //     my$('im').src = "img/ + hour + " - " + second + .jpg";
    // }
    //
    // //先在页面执行一次函数
    // f3();
    //
    // //页面加载完成后，过了 1 秒才执行函数的代码
    // setInterval(f3, 100)


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--另一个计时器-->

<!--一次性的计时器-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<input type="button" value="停止计时器" id="btn13">


<script>


    window.onload = function () {

        var timeId2 = window.setTimeout(function () {

            alert('hello');
        }, 1000);

        //如果不点击按钮，则不会清除定时器( 会一直存在于内存中 )
        my$('btn13').onclick = function () {

            clearTimeout(timeId2);
        };
    };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="dv3" style="width: 300px; height: 200px; background-color: hotpink;"></div>

<br>
<br>
<input type="button" value="渐变" id="btn14">


<script>


    //因为小数计算无法保证正确
    // var opacity = 1;

    //所以把数字扩大 10 倍
    var opacity = 10;

    my$('btn14').onclick = function () {

        var timeId = setInterval(function () {

            opacity--;

            //如果小于 0 则清除定时器，否则会一直循环
            if (opacity <= 0) {

                clearInterval(timeId);
            }

            my$('dv3').style.opacity = opacity / 10;

        }, 100);
    };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="dv4" style="width: 150px; height: 200px; background-color: lightsalmon;"></div>

<br>
<br>
<input type="button" value="变宽" id="btn15">


<script>


    my$('btn15').onclick = function () {

        var width = 100;

        var radius = 0;

        var timeId = setInterval(function () {

            width += 4;

            radius += 2;

            if (width >= 200 && radius >= 50) {

                clearInterval(timeId);
            }

            my$('dv4').style.width = width + 'px';

            my$('dv4').style.borderRadius = radius + '%';

        }, 10);
    };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--移动元素-->

<!--如果样式代码在 html 顶部 style 文件中设置，外面获取不到-->

<!--如果样式代码在行内 style 的属性中设置，外面可以获取-->

<!--offset 可以获取任何位置设置的元素的值-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="dv5" style="position: relative; width: 160px; height: 160px; background-color: mediumslateblue;"></div>

<br>
<br>
<input type="button" value="移动到400px" id="btn16">

<input type="button" value="移动到800px" id="btn17">


<script>


    my$('btn16').onclick = function () {


        //封装清理计时器，无论点击几次，都只产生一个计时器

        var timeId = setInterval(function () {

            //获取当前 div 左侧位置数字
            var current = my$('dv5').offsetLeft;

            //设置每次移动距离
            var step = 10;

            //设置目标位置
            current += step;

            if (current <= 400) {

                my$('dv5').style.left = current + 'px';

            } else {

                window.clearInterval(timeId);
            }

        }, 20)
    };


    my$('btn17').onclick = function () {

        var timeId = setInterval(function () {

            var current = my$('dv5').offsetLeft;

            var step = 10;

            current += step;

            if (current <= 800) {

                my$('dv5').style.left = current + 'px';

            } else {

                window.clearInterval(timeId);
            }

        }, 20);
    };


</script>


<hr>
<!--------------------------------------------------------------------------------------------------------------------->


<!--封装动画函数-->


<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


<div id="dv6" style="position: relative; width: 160px; height: 160px; background-color: tomato;"></div>


<br>
<br>
<input type="button" value="移动到400px" id="btn18">

<input type="button" value="移动到800px" id="btn19">


<script>


    function animate(element, target) {

        //确保点击多次，只生成一个计时器
        clearInterval(element.timeId);

        //增加自定义 timeId 属性
        element.timeId = setInterval(function () {

            //获取当前 div 的位置
            var current = element.offsetLeft;

            //每次移动的距离
            var step = 10;

            //判断向前向后走
            step = current < target ? step : -step;

            current += step;

            //如果目标位置 减去 已经走的步数 小于 每次走的步数，那么就继续走
            //Math.abs(); 取绝对值
            if (Math.abs(target - current) > Math.abs(step)) {

                element.style.left = current + 'px';

            } else {

                clearInterval(element.timeId);

                element.style.left = target + 'px';
            }
        }, 20);
    }


    my$('btn18').onclick = function () {

        animate(my$('dv6'), 400);
    };

    my$('btn19').onclick = function () {

        animate(my$('dv6'), 800);
    };


</script>


<!--------------------------------------------------------------------------------------------------------------------->








