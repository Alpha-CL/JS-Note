<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>


        * {
            margin: 0;
            padding: 0;
            color: #fff;
        }

        li {
            list-style-type: none;
        }

        .ctl-svg {
            width: 100%;
            height: 100%;
        }

        .ctl-svg-btn {
            width: 50px;
            height: 50px;
        }


        .video-player {
            margin: 30px auto 0;
            position: relative;
            width: 1000px;
        }

        .video-player video {
            width: 100%;
        }

        .video-player .video-control {
            height: 80px;
            position: absolute;
            display: flex;
            flex-flow: row wrap;
            justify-content: space-between;
            bottom: 0;
            width: 100%;
            background-image: linear-gradient(rgba(0, 0, 0, .2), rgba(0, 0, 0, .8));
            font-size: 20px;
            cursor: pointer;
        }

        .vdo-control-progressbar {
            position: relative;
            width: 100%;
        }

        .vdo-control-progressbar .progress-load-hover,
        .vdo-control-progressbar .progress-play-hover {
            height: 10px;
            top: -8px;
        }

        .vdo-control-progressbar .progress-dot-hover {
            width: 18px;
            height: 18px;
            top: -11px;
        }

        .progress-load,
        .progress-play {
            position: absolute;
            height: 2px;
            width: 100%;
            background-color: silver;
        }

        .progress-play {
            width: 0;
            background-color: #3c8dff;
        }

        .progress-dot {
            position: absolute;
            left: 0;
            top: -2px;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #fff;
        }

        .vdo-control-l {
            margin-left: 30px;
            display: flex;
            height: 100%;
            align-items: center;
            flex-flow: row nowrap;
        }

        .vdo-control-l div {
            margin-right: 18px;
        }

        .vdo-control-l .ctl-playcontrol .player-pause {
            display: none;
        }

        .vdo-control-r {
            margin-right: 30px;
            display: flex;
            align-items: center;
            flex-flow: row nowrap;
        }

        .vdo-control-r .ctl-btn {
            margin-left: 18px;
        }

        .vdo-control-r .ctl-speed {
            position: relative;
        }

        .vdo-control-r .spd-pop-btn {
            display: none;
            position: absolute;
            top: -198px;
            left: -14px;
            background-color: rgba(0, 0, 0, .4);
            border-radius: 6px;
            font-size: 16px;
            text-align: center;
            overflow: hidden;
        }

        .vdo-control-r .spd-pop-btn li {
            padding: 12px 16px;
        }

        .vdo-control-r .spd-pop-btn li:hover {
            background-color: rgba(0, 0, 0, .6);
        }

        .vdo-control-r .ctl-voice {
            transform: scale(.6, .6);
        }

        .vdo-control-r .ctl-fullscreen {
            transform: scale(.5, .5);
        }


    </style>

</head>
<body>


<div class="video-player">

    <video src="video/demo.mp4"></video>

    <div class="video-control">
        <div class="vdo-control-progressbar">
            <div class="progress-load"></div>
            <div class="progress-play"></div>
            <i class="progress-dot"></i>
        </div>
        <div class="vdo-control-l">
            <div class="ctl-btn ctl-playcontrol">
                <div class="ctl-svg-btn player-play">

                    <svg class="ctl-svg ctl-svg-play" width="80px" height="80px" viewBox="0 0 80 80" version="1.1"
                         xmlns="http://www.w3.org/2000/svg">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g transform="translate(-10.000000, -10.000000)" stroke="#FFFFFF"
                               stroke-width="4">
                                <circle id="Oval" cx="50" cy="50" r="38"/>
                                <polygon id="Rectangle" stroke-linejoin="round"
                                         transform="translate(43.000000, 50.000000) rotate(-315.000000) translate(-43.000000, -50.000000) "
                                         points="25 34.8284271 61 32 58.1715729 68"/>
                            </g>
                        </g>
                    </svg>
                </div>
                <div class="ctl-svg-btn player-pause">

                    <svg class="ctl-svg" width="80px" height="80px" viewBox="0 0 80 80" version="1.1"
                         xmlns="http://www.w3.org/2000/svg">
                        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Artboard" transform="translate(-10.000000, -10.000000)" stroke="#FFFFFF"
                               stroke-width="4">
                                <circle id="Oval" cx="50" cy="50" r="38"/>
                                <line x1="39" y1="32" x2="39" y2="68" id="Path" stroke-linecap="round"/>
                                <line x1="61" y1="32" x2="61" y2="68" id="Path-Copy" stroke-linecap="round"/>
                            </g>
                        </g>
                    </svg>
                </div>
            </div>
            <div class="ctl-btn ctl-next">
                <div class="ctl-svg-btn player-next">

                    <svg class="ctl-svg" width="80px" height="80px" viewBox="0 0 80 80" version="1.1"
                         xmlns="http://www.w3.org/2000/svg">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g transform="translate(-10.000000, -10.000000)" stroke="#FFFFFF"
                               stroke-width="4">
                                <circle id="Oval" cx="50" cy="50" r="38"></circle>
                                <polygon id="Rectangle" stroke-linejoin="round"
                                         transform="translate(37.328427, 50.000000) rotate(-315.000000) translate(-37.328427, -50.000000) "
                                         points="24.8284271 39.4641855 49.8284271 37.5 47.8642416 62.5"></polygon>
                                <line x1="63" y1="33" x2="63" y2="67" id="Path-Copy" stroke-linecap="round"></line>
                            </g>
                        </g>
                    </svg>
                </div>
            </div>
            <div class="ctl-time">
                <span class="time-cur">00:00</span>
                <span class="time-curline">/</span>
                <span class="time-dur"></span>
            </div>
        </div>
        <div class="vdo-control-r">
            <div class="ctl-btn ctl-speed">
                <div class="spd-btn spd-txt">倍速</div>
                <div class="spd-pop-btn">
                    <ul class="spd-pop-bar">
                        <li class="spd-txt">1.0X</li>
                        <li class="spd-txt">1.25X</li>
                        <li class="spd-txt">1.5X</li>
                        <li class="spd-txt">2.0X</li>
                    </ul>
                </div>
            </div>
            <div class="ctl-btn ctl-svg-btn ctl-voice">
                <svg class="ctl-svg" width="70px" height="79px" viewBox="0 0 70 79" version="1.1"
                     xmlns="http://www.w3.org/2000/svg"
                     xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"
                       stroke-linecap="round">
                        <g id="Artboard" transform="translate(-15.000000, -11.000000)" stroke="#FFFFFF"
                           stroke-width="4">
                            <g id="Group-2" transform="translate(17.000000, 13.000000)">
                                <path d="M14.4,52.7613114 L0,51.6 L0,22.8 L14.4,21.6273132 M14.4,21.6 L34.8,0 L34.8,74.4 L14.4,52.8"
                                      id="Combined-Shape" stroke-linejoin="round"></path>
                                <g id="Group" transform="translate(45.600000, 12.000000)">
                                    <path d="M0,39.499286 C4.65413517,36.4031889 7.72127546,31.1105773 7.72127546,25.1015968 C7.72127546,19.1191071 4.68111879,13.846684 0.0614611871,10.7449834"
                                          id="Path"></path>
                                    <path d="M2.4508826,50.2129455 C12.550285,46.3457561 19.7212755,36.5611137 19.7212755,25.1015968 C19.7212755,13.6517001 12.56232,3.87386698 2.4763116,0"
                                          id="Path"></path>
                                </g>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <div class="ctl-btn ctl-svg-btn ctl-fullscreen">

                <svg class="ctl-svg" width="68px" height="68px" viewBox="0 0 68 68" version="1.1"
                     xmlns="http://www.w3.org/2000/svg"
                     xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"
                       stroke-linecap="round">
                        <g id="Artboard" transform="translate(-16.000000, -16.000000)" stroke="#FFFFFF"
                           stroke-width="4">
                            <polyline id="Path" stroke-linejoin="round"
                                      transform="translate(68.000000, 68.000000) rotate(-180.000000) translate(-68.000000, -68.000000) "
                                      points="54 82 54 54 82 54"></polyline>
                            <polyline id="Path-Copy" stroke-linejoin="round" points="18 46 18 18 46 18"></polyline>
                            <line x1="18" y1="18" x2="42.1303695" y2="42.1303695" id="Path-2"></line>
                            <line x1="57" y1="57" x2="81.1303695" y2="81.1303695" id="Path-2-Copy"></line>
                        </g>
                    </g>
                </svg>

            </div>
        </div>
    </div>

</div>


<script>


    let videoPlayer = document.querySelector('.video-player'),
        playCtl = document.querySelector('.ctl-playcontrol'),
        oVideo = document.querySelector('.video-player video');

    playCtl.onclick = function (e) {

        let tar = e.target,
            playerPlay = document.querySelector('.player-play'),
            playerPause = document.querySelector('.player-pause');

        if (oVideo.paused) {

            oVideo.play();

            playerPlay.style.display = 'none';
            playerPause.style.display = 'block';

            setInterval(function (e) {

                let total = oVideo.duration,
                    curTime = oVideo.currentTime,
                    proportion = (curTime / total).toFixed(2);

                progressPlay.style.width = load * proportion + 'px';
                progressDot.style.left = load * proportion + 'px';

            }, 1000);

        } else {

            oVideo.pause();

            playerPlay.style.display = 'block';
            playerPause.style.display = 'none';
        }
    };


    setInterval(function () {

        let durTimeDom = document.querySelector('.time-dur'),
            total = oVideo.duration,
            curTime = oVideo.currentTime,
            curTimeDom = document.querySelector('.time-cur'),
            totalH,
            totalS,
            curH,
            curS;

        if (parseInt(total / 60 + '') < 10) {

            totalH = '0' + parseInt(total / 60 + '');

        } else {

            totalH = parseInt(total / 60 + '');
        }

        if (parseInt(total % 60 + '') < 10) {

            totalS = '0' + parseInt(total % 60 + '');

        } else {

            totalS = parseInt(total % 60 + '');
        }

        durTimeDom.innerHTML = totalH + ':' + totalS;

        if (parseInt(curTime / 60 + '') < 10) {

            curH = '0' + parseInt(curTime / 60 + '');

        } else {

            curH = parseInt(curTime / 60 + '');
        }

        if (parseInt(curTime % 60 + '') < 10) {

            curS = '0' + parseInt(curTime % 60 + '');

        } else {

            curS = parseInt(curTime % 60 + '');
        }

        curTimeDom.innerHTML = curH + ':' + curS;

    }, 1000);

    let progressbar = document.querySelector('.vdo-control-progressbar'),
        progressLoad = document.querySelector('.progress-load'),
        progressPlay = document.querySelector('.progress-play'),
        progressDot = document.querySelector('.progress-dot'),
        lock = false;

    progressbar.addEventListener('mouseover', function overProgress() {

        progressLoad.classList.add('progress-load-hover');
        progressPlay.classList.add('progress-play-hover');
        progressDot.classList.add('progress-dot-hover');

        lock = true;

    }, false);

    function outProgress() {

        if (lock) {

            lock = false;

            setTimeout(function () {

                progressLoad.classList.remove('progress-load-hover');
                progressPlay.classList.remove('progress-play-hover');
                progressDot.classList.remove('progress-dot-hover');

            }, 1000);
        }
    }

    progressbar.addEventListener('mouseout', outProgress, false);

    let load = parseInt(getComputedStyle(progressbar).width);

    progressbar.addEventListener('click', function (e) {

        let play = e.layerX,
            proportion = (play / load).toFixed(2),
            targetTime = parseInt(oVideo.duration * proportion);

        console.log(targetTime);

        oVideo.currentTime = targetTime;

        progressPlay.style.width = load * proportion + 'px';
        progressDot.style.left = load * proportion + 'px';

    }, false);


    let doubleSpeed = document.querySelector('.ctl-speed'),
        speedDropup = document.querySelector('.spd-pop-btn');

    doubleSpeed.addEventListener('mouseover', function (e) {

        speedDropup.style.display = 'block';

    }, false);

    speedDropup.addEventListener('click', function (e) {

        let tar = e.target,
            spdTxt = document.querySelector('.spd-txt');

        if (tar.innerText === '1.0X') {

            oVideo.playbackRate = 1;
            spdTxt.innerHTML = '1.0X';

        } else if (tar.innerText === '1.25X') {

            oVideo.playbackRate = 1.25;
            spdTxt.innerHTML = '1.25X';

        } else if (tar.innerText === '1.5X') {

            oVideo.playbackRate = 1.5;
            spdTxt.innerHTML = '1.5X';

        } else if (tar.innerText === '2.0X') {

            oVideo.playbackRate = 2;
            spdTxt.innerHTML = '2.0X';
        }

    }, false);

    speedDropup.addEventListener('mouseleave', function (e) {

        speedDropup.style.display = 'none';

    }, false);

    videoPlayer.addEventListener('mouseleave', function (e) {

        speedDropup.style.display = 'none';

    }, false);


    /**
     * video.volume
     *
     *
     * 音量控制，范围[0, 1]
     */



    let fullscreen = document.querySelector('.ctl-fullscreen');

    fullscreen.onclick = function (e) {

        let dom = document.documentElement;

        dom.requestFullscreen();

        videoPlayer.style.width = window.screen.width + 'px';
        videoPlayer.style.height = window.screen.height + 'px';
        oVideo.style.width = window.screen.width + 'px';
        oVideo.style.height = window.screen.height + 'px';
    };


</script>


</body>
</html>
