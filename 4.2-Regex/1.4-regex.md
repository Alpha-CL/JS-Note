# RegExp

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * RegExp
 * 
 */

/pattern/modifiers;                                                                 // 子面量正则

new RegExp((pattern: string , RegExp), modifiers: string): void;                   // 系统构造函数


//-------------------------------------------------------------------------------------------------------------------//


/**
 * properties
 * 
 */

reg.ignoreCase                  // 忽略大小写

reg.global                      // 全局匹配

reg.multiline                   // 多行匹配

reg.source                      // 字符床内容


reg.lastIndex                   // 设置游标匹配位置


//-------------------------------------------------------------------------------------------------------------------//


/**
 * Methods
 * 
 */


reg.compile();                  // 编译正则表达式

reg.test(): boolean;            // 检索字符串中指定的值


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


reg.exec();         

var str = 'abababab';

console.log(str.exec(/ab/g);    // '|abababab' => ['ab', index: 0, input: 'abababab'] 
console.log(str.exec(/ab/g);    // 'ab|ababab' => ['ab', index: 2, input: 'abababab'] 
console.log(str.exec(/ab/g);    // 'abab|abab' => ['ab', index: 4, input: 'abababab'] 
console.log(str.exec(/ab/g);    // 'ababab|ab' => ['ab', index: 6, input: 'abababab'] 
console.log(str.exec(/ab/g);    // 'abababab|' => null


reg.lastIndex = 4;

console.log(str.exec(/ab/g);    // 'ababab|ab' => ['ab', index: 6, input: 'abababab'] 


// 若不执行全局搜索，则 reg.lastIndex = 0;

console.log(str.exec(/ab/);     // '|abababab' => ['ab', index: 0, input: 'abababab'] 
console.log(str.exec(/ab/);     // '|abababab' => ['ab', index: 0, input: 'abababab'] 
console.log(str.exec(/ab/);     // '|abababab' => ['ab', index: 0, input: 'abababab'] 

reg.lastIndex = 0;


//-------------------------------------------------------------------------------------------------------------------//


var reg1 = /demo/m;

var reg2 = new RegExp();


=> reg2 = new RegExp(reg1); != var reg1 = /demo/m;

=> var reg1 = /demo/; == var reg2 = RegExp(reg1);                   // 不 new, 相当于引用


//-------------------------------------------------------------------------------------------------------------------//


// 修饰符


var reg = /reg/i;               // ignoreCase           // 忽略大小写

var reg = /reg/g;               // global               // 执行全局匹配，返回所有相匹配的结果



var reg = /reg/m;               // multiline            // 执行多行匹配, \n 换行后的字符


var str = "adbca";

str.match(/a/g);                // ['a', 'a']

str.match(/^a/g);               // ['a']


var str1 = 'adbc/na';

str.match(/^a/g);               // ['a']

str.match(/^a/gm);              // ['a', 'a']              // 此时才是多行匹配


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```
#### 表达式

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * []
 * 
 * 代表一位搜索符
 * [ 查找字符的范围 ]
 */
 
 
//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * [^]
 * 
 * 表达式中的 ^ 代表 非
 */
 
 
//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * (|)
 * 
 * 代表 或
 */


//-------------------------------------------------------------------------------------------------------------------//


[0-9A-z_]               // 所有字符

[abc]                   // 查找方括号之间的任何字符

[^abc]                  // 查找任何不在方括号之间的字符

[0-9]                   // 查找任何从 0 - 9 的数字

[a-z]                   // 查找任何从 a - z 的数字

[A-Z]                   // 查找任何从 A - Z 的数字

[adgk]                  // 查找给定集合内的任何字符

[^adgk]                 // 查找给定集合外的任何字符

(red|blue|green)        // 查找任何指定的选项


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### 元字符

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


. === [^\r\n]                   // 查找单个字符，除了换行和结束符


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


\w === [0-9A-z_]                // 查找单词字符                               


var str = "adcdemo1";

str.match(/\wdemo1/g);


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


\W === [^\W]                    // 查找非单词字符


var str = "adcdemo*";

str.match(/\Wdemo*/g);


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


\d === [0-9]                    // 查找数字


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


\D === [^\d]                    // 查找非数字字符


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


\s === [\t\r\n\v\f ]            // 查找空白字符 {  空格符, \t: 制表符, \r: 回车符, \n: 换行符, \v: 垂直换行符, \f换页符 }


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


\S === [^\s]                    // 查找非空白字符


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


\b                              // 匹配单词边界


var str = 'abc cdedce';

str.match(/\bcde/g);            // null


var str = 'abc cde dce';

str.match(/\bcde/g);            // ['cde']


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


\B                              // 匹配非单词边界


var str = 'abc cdedce';

str.match(/\bcde\B/g);            // ['cde']


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


\0                              // 查找 NUL zifu 


\n                              // 查找换行字符


\f                              // 查找换页字符


\r                              // 查找会车字符


\t                              // 查找制表符: 并非视觉 tab，而是真实的 \t


\v                              // 查找垂直制表符


\xxx                            // 查找以八进制 xxx 规定的字符


\xxd                            // 查找以十六进制 dd 规定的字符


\uxxx                           // 查找以十六进制 xxxx 规定的 Unicode 字符


//-------------------------------------------------------------------------------------------------------------------//


// Unicode 编码


\u010000 - \u01ffff             // 十六进制

\u020000 - \u02ffff

\u100000 - \u10ffff


[\u0000-\uffff]/g               // all

[\s\S]                          // all

... ...


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```


#### 量词

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 默认贪婪匹配
 * 
 */

量词? => 表示取消贪婪匹配


a??                 // [0]

a*?                 // ['', '', '']


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


n+ {1, Infinity}                // 匹配任何字符串，至少一出现个n


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


n* {0, Infinity}                // 匹配任何字符串，至少出现 0 次


var str = /\w*/g;

str.match(/\w*/g);              // ['abc', '']

str.match(/\d*/g);              // ['', '', '', '']


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


n? {0, 1}                       // 匹配任何字符串，最多出现一次

var str = 'aaaaaa';

str.match(/\w?/g);              // ['a', 'a', 'a', 'a', 'a', 'a']


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


n{x}


var str = 'aaaaaaaaaa';

str.mattch(/\w{3}/g);           // ['aaa', 'aaa', 'aaa', 'a']


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


n{x, y}

n{x, } === n{0,Infinity}

var str = 'aaaaaaaaaaaaaa';

str.mattch(/\w{3,5}/g);         // ['aaaaa', 'aaaaa', 'aaaa']         // 贪婪匹配，能多不少


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


^n                              // 匹配任何开头为 n 的字符串

var str = 'abcdef';

str.match(/^abc/g);             // ['adb'];


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


n$                              // 匹配任何结尾为 n 的字符串

var str = 'abcdef';

str.match(/def$/g);             // ['def'];


var str = 'adcabc';

str.match(/^abc$/g);            // null


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


// 正向断言

?=n                             // 匹配任何其后紧接指定字符串 n 的字符串

var str = 'abaaaa';

var reg = /a(?=b)/g;

console.log(str.match(reg));    // ['aaaa']


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


// 正向预查

?!n

var str = 'abaaaa';             // 匹配任何其后没有紧接指定字符串 n 的字符串

var reg = /a(?!b)/g;

console.log(str.match(reg));    // ['a', 'a', 'a', 'a']


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```


``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// 检验一个字符串首尾是否含有数字

var reg = /^\d|\d$/g;               // 首或尾含有数字

var reg = /^\d[\s\S]*\d$/g          // 首尾都含有数字


//-------------------------------------------------------------------------------------------------------------------//


// 字符串去重

var str = 'aaaaaaaabbbbbbbbbccccc';

var reg = /(\w)\1*/g;

console.log(str.replace(reg, '$1'));            // ['abc']


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```


#### 子表达式

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


((A)(B(C)))

(A)

(B(C))

(C)


var str = 'xxxx';                   // xxxx 代表一种格式，aaaa，bbbb，cccc

str.match(/(a)\1\1\1/g);            // 反向引用第一个子表达式中匹配的内容


var str = 'aabb';

str.match(/(a)\1(b)\2/);      


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// the-first-name => theFirstName

var str = 'the-first-name';

var reg = '/-(\w)/g'

str.replace(reg, function($, $1) {

    return $1.toUpperCase();                    // theFirstName
});


//- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -//


// 10000000000 => 10.000.000.000

var str = '10000000000';

var reg = /?=(\B)(\d{3})+$/g;                   // ?= 正向断言; (\B): 非单词边界; (\d{3}): 3位数字; +: 一次或多次; 

console.log(str.replace(reg, '.'));


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### RegExp.test(): boolean;

检索字符串中指定的值，返回 true 或 false

#### String.match();

找到一个或多个正则表达式的结果

#### String.search();

检查与正则表达式匹配的字符串的位置( 匹配不到返回 -1 )

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


var str = 'abcdaabb';

var reg = /(\w)\1(\w)\2/g;

str.search(reg);                // 4


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### String.replace();

替换与正则表达式匹配的字符串

> 非正则表达式，仅匹配第一个替换
>
> //g 匹配全局替换

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


var str = 'aabb';               => 'bbaa'

var reg = '/(\w)\1(\w)\2/g';

console.log(str.replace(reg, '$2$2$1$1'));                  // $n 可以引用之前匹配的子表达式

console.log(str.replace(reg, function($, $1, $2)) {

    retrun: $2 + $2 + $1 + $1;
});


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### String.split();

把字符串分割为字符串数组

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


var str = 'dnwaindiwaa0dnwandilwabb0ndilwandlwcc0wadwad';

var reg = /(\w)\1/g;

console.log(str.split(reg));                // ["dnwaindiw", "a", "dnwandilwa", "b", "ndilwandlw", "c", "wadwad"]


var reg = /\d/g;

console.log(str.split(reg));                // ["dnwaindiwaa", "dnwandilwabb", "ndilwandlwcc", "wadwad"]


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

































        
        
        
        
        
        
        
        
        
        
        
        
        